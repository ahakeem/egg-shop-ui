<div>
  <div *ngIf="errMsg" style="color:red;">{{errMsg}}</div>
  <div nz-row [nzGutter]="2" style="padding-bottom:5px;">
    <nz-date-picker [(ngModel)]="_date" [nzFormat]="'yyyy-MM-dd'"></nz-date-picker>
    <button style="color:black;" nz-button [nzType]="'default'" [nzSize]="'default'" (click)="doAddSixPrice()">
      <span>
        <i class="anticon anticon-plus-square-o"></i>
        <span style="margin:0px;">六·加点</span>
      </span>
    </button>
    <button style="color:black;" nz-button [nzType]="'default'" [nzSize]="'default'" (click)="doAddSevenPrice()">
      <span>
        <i class="anticon anticon-plus-square-o"></i>
        <span style="margin:0px;">七·加点</span>
      </span>
    </button>
    <button style="color:green;" nz-button [nzType]="'default'" [nzSize]="'default'" (click)="doSave()">
      <span>
        <i class="anticon anticon-save"></i>
        <span style="margin:0px;">保存</span>
      </span>
    </button>
  </div>
  <div nz-row style="padding-bottom:5px;">
    <nz-input-group nzAddOnBefore="重量调整" nzAddOnAfter="斤">
      <input nz-input style="padding-bottom:2px;" [(ngModel)]="priceExtra.weightAdjust">
    </nz-input-group>
  </div>
  <div nz-row>
    <nz-table #nzTable [nzSize]="'small'" [nzData]="prices" [nzShowPagination]="false" [nzFrontPagination]="false">
      <thead nz-thead>
        <tr>
          <th nz-th style="padding:5px;">
            <span>区间点</span>
          </th>
          <th nz-th style="padding:5px;">
            <span>价格</span>
          </th>
          <th nz-th style="padding:5px;width:48px;">
            <span>层数</span>
          </th>
          <th nz-th style="padding:5px;width:48px;">
            <span>移除</span>
          </th>
        </tr>
      </thead>
      <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let item of nzTable.data; let i = index">
          <td nz-td style="padding:2px;">
            <nz-input-group nzAddOnAfter="斤">
              <input nz-input style="width:100%;" [(ngModel)]="item.weight">
            </nz-input-group>
          </td>
          <td nz-td style="padding:2px;">
            <nz-input-group [nzAddOnAfter]="7===item.level ? '÷ 6 × 7 元' : '元'">
              <input nz-input style="width:100%;" [(ngModel)]="item.price">
            </nz-input-group>
          </td>
          <td nz-td style="padding:2px 8px;">
            <nz-tag *ngIf="6===item.level" [nzColor]="'blue'">{{item.level}}</nz-tag>
            <nz-tag *ngIf="7===item.level" [nzColor]="'cyan'">{{item.level}}</nz-tag>
          </td>
          <td nz-td style="padding:2px 8px;">
            <button style="color:coral;" nz-button [nzType]="'dashed'" [nzSize]="'small'" [nzShape]="'circle'" (click)="remove(item, i)">
              <i class="anticon anticon-delete"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>
